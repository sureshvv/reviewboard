#summary Instructions for getting reviewboard initially up and running.
#labels Featured,Phase-Deploy

= Basic Dependencies =

At the very least, you need:
  * [http://www.python.org Python] 2.4 or newer
  * Python setuptools
  * [http://www.djangoproject.com Django] 1.0 or higher
  * [http://www.sqlite.org sqlite] 3 (not necessary if using mysql)
  * [http://www.pythonware.com/products/pil/ PIL
  * [http://freshmeat.net/projects/patchutils/ patchutils]

Additional things you may want:
  * [http://www.mysql.org Mysql] 5.0.31 or newer
  * [http://www.lighttpd.net lighttpd] or [http://www.apache.org apache]
  * [http://www.saddi.com/software/flup flup]
  * [http://public.perforce.com/guest/robert_cowham/perforce/API/python/index.html p4python]
  * [http://pysvn.tigris.org pysvn]
  * [http://code.google.com/p/python-nose nose] and [http://www.nedbatchelder.com/code/modules/coverage.py coverage.py] for running unit tests.

These installation instructions have been tested with Linux. There may be things which have to be changed to deploy on other platforms such as Windows or OS X.


== Distribution-specific dependency guides ==

 * [Installing_on_Ubuntu_Gutsy Installing on Ubuntu Gutsy (7.10)]


= Downloading =

Before you begin, you'll need Python setuptools. Most Linux distributions have this packaged and available for installation. To install on Debian or Ubuntu, you can type:

{{{
$ sudo apt-get install python-setuptools
}}}

You can then install Review Board, Djblets, Django-Evolution, Django, and PIL in one go with the following command:

{{{
$ sudo easy_install ReviewBoard
}}}

This will install the latest released version of Review Board and its dependencies.


== Nightly Releases ==

If you want to use nightly releases, put the following in {{{$HOME/.pydistutils.cfg}}} (on Linux) or {{{$HOME\\pydistutils.cfg}}} (on Windows):

{{{
[easy_install]

find_links = http://www.review-board.org/downloads/nightlies/
}}}


== Windows-Specific Instructions ==

If you're on Windows, you're going to need patchutils. Most Linux systems come with this by default, but Windows does not. You'll need to follow these instructions to get a compatible patchutils installed.

  * First, download and run the [http://www.cygwin.com Cygwin Installer].
  * Follow the instructions until you get to the "Packages" part.
  * Put a check next to "patchutils" in the "Utils" group.
  * Continue on and begin the installation process.
  * Open Control Panel and click "System."
  * Go to the "Advanced" pane.
  * Click on "Environment Variables."
  * Find the "PATH" variable and edit it (or create a new one if it doesn't exist). Add the Cygwin bin path (e.g., "{{{C:\Cygwin\Bin}}}") to the PATH.
  * Save this, exit out of all the windows, and restart your web server.


= Site Installation =

Once Review Board is installed, you need to install a Review Board site instance. This is done through the {{{rb-site}}} tool:

{{{
$ sudo rb-site install /path/to/sitedir
}}}

For example, if you were installing {{{reviews.example.com}}} in {{{/var/www/reviews.example.com}}}, you would use:

{{{
$ sudo rb-site install /var/www/reviews.example.com
}}}

This will walk you through setting up your site. It will ask you a series of questions, such as your database information, domain name, server types, etc., and will generate your new database (if it doesn't already exist).


== Directory Permissions ==

You'll need to make sure that the {{{db}}} directory (if it exists) and the {{{htdocs/media/uploaded}}} directory are writable by the web server. The web server's username depends on your system and server. It's often something like "{{{www-data}}}" or "{{{apache}}}".

For example, to change the permissions on a Debian or Ubuntu system, type:

{{{
$ sudo chown -R www-data:www-data db htdocs/media/uploaded
}}}


== Web Server Configuration ==

A {{{conf}}} directory will be created in your new site tree containing sample web server configuration files. In most setups, these files should just work, but some setups may require tweaking.

If you're using Apache, you can usually copy the file to {{{/etc/apache2/sites-available}}} and then create a symlink to that in {{{/etc/apache2/sites-enabled}}}. This directory depends on your operating system and distribution.

Refer to your web server's manual for additional information. If you're stuck, someone on our mailing list may be able to assist you.


== Server Optimization ==

You'll want to optimize the server where you can. Refer to ServerOptimizations for more information.


= Upgrading =

To upgrade Review Board, type:

{{{
$ sudo easy_install --upgrade ReviewBoard
}}}

This will fetch the latest Review Board, Django, Djblets and Django-Evolution packages and install them.

Then, for each installed site on your server, run:

{{{
$ sudo rb-site upgrade /path/to/sitedir
}}}

This will run any database migrations that may be needed and update the media directories to include any new changes. This must be ran after upgrading Review Board or the site may not function correctly.


= Migrating Installations =

If you have an old installation (installed through the SVN tree using either {{{setup.py install}}} or {{{make install}}}), you can migrate your site over to the new installation.

First, you may want to shut down your server if you're going to overwrite the site directory. You'll want to move your current site directory to a backup location.

Run the above commands to install Review Board and set up your new site directory.

If your database is sqlite, {{{rb-site install}}} will create a new sqlite database for you in your site's {{{db}}} directory. You can overwrite this database with your backed up database.

Once you've installed the site, run {{{rb-site upgrade}}} on the directory tree (as described above) to perform any database migrations that may be needed.

Either overwrite your existing web server configuration file for this site using the generated files in {{{conf}}}, or edit them to reflect the settings in this file.

You'll also want to copy all images from your old {{{uploaded/images/}}} directory into your new one.

Start the server back up. You should be ready to go again. If everything works as expected, you can delete your old SVN checkout and site directory.


= Final Configuration =

== Site Administration ==

To administer the site, open a web browser to your new Review Board site and log in, then click "Admin" in the upper-right corner. Make sure this is the username configured during site installation.

From the admin UI, you can change site settings, add repositories, review groups, manage users, and check the latest Review Board news updates.


== Set Up Repositories ==

In the admin dashboard, select "Add" next to the "Repositories" label. Give your repository a name and path, and select the type of server.  If your tool requires a login or password, provide those here.  By default, subversion and perforce
tools are available.

The path identifies which server to contact.  For subversion repositories, give the repository path.  For perforce servers, give the contents of your $P4PORT environment variable.  For example:

{{{
 Name: Reviewboard SVN
 Path: http://reviewboard.googlecode.com/svn/
 Username:
 Password:
 Tool: Subversion
}}}

{{{
 Name: Perforce Public
 Path: public.perforce.com:1666
 Username: foo
 Password: bar
 Tool: Perforce
}}}

The astute observer will also notice scmtools/perforce_vmware.py.  This is a specialization of the !PerforceTool which parses the changeset descriptions in use at [http://vmware.com VMware].  Adding special fields to perforce changelists is pretty common with larger depots, so this can be used as an example for how to deal with this.

== Bug Tracker URL ==

Each repository also has a "Bug tracker" field.  Bug numbers listed in review requests will automatically be hyperlinked to the relevant bugs.  This field should be a format string with a single "%s" where the bug ID should go in the URL.

Here are some examples:
  * Bugzilla: `http://bugzilla.server/show_bug.cgi?id=%s`
  * Trac: `http://trac.server/ticket/%s`
  * Google issue tracker: `http://code.google.com/p/project/issues/detail?id=%s`

== Configure Groups ==

When a user first logs in, they will be directed to the user profile page and asked to join groups.  Once again, create these through the admin dashboard by clicking "Add" next to "Review Groups." Each group is associated with a mailing list, which will be copied on relevant emails.

== Set Up Search ==

This isn't strictly necessary (and might be hard on some platforms), but it'll make your users love you.  See SettingUpSearch for details.

= Additional Information =

For more information on Review Board, look at the [Documentation] page.

If you get stuck, first look in the [FAQ]. If it doesn't answer your question, contact us on the [http://groups.google.com/group/reviewboard mailing list].


= Let Us Know! =

We'd love to hear how you're using Review Board.  The [http://groups.google.com/group/reviewboard Review Board Discussion] Google group is a great place to share how you've integrated Review Board into your workflow and how you think it could be improved.