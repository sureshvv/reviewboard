<VirtualHost *:8080>
  ServerName example.com
  DocumentRoot /var/www/example.com
  ErrorDocument 500 /errordocs/500.html

  # Serve django pages
  <LocationMatch ^/(.*)$>
    PythonPath "['/usr/share/'] + ['/usr/share/reviewboard'] + sys.path"
    SetEnv DJANGO_SETTINGS_MODULE reviewboard.settings
    SetHandler mod_python
    PythonHandler django.core.handlers.modpython
    PythonAutoReload Off
    PythonDebug Off
  </LocationMatch>

  # Serve static media without running it through mod_python (overrides the above)
  <LocationMatch ^(/(media|css|images|scripts|errordocs))>
    SetHandler None
  </LocationMatch>

  # Alias static media requests to filesystem
  Alias /media /usr/lib/python2.4/site-packages/django/contrib/admin/media
  Alias /css /usr/share/reviewboard/htdocs/css
  Alias /images /usr/share/reviewboard/htdocs/images
  Alias /scripts /usr/share/reviewboard/htdocs/scripts
  Alias /errordocs/ /usr/share/reviewboard/htdocs/errordocs
</VirtualHost>
